docker.enabled = true


profiles {

   standard {
        process.cpus = 24
        process.memory = "32G"
    }

   github {
        process.cpus = 2
        process.memory = "6.5G"
    }

   server {
       process.cpus = 24
       process.memory = "32G"
   }
}

process {
    container = 'theoaphidian/wgs-illumina'

    withName: ASSEMBLY {
        container = 'staphb/shovill:latest'
    }

    withName: PLASMID_ASSEMBLY {
        container = 'staphb/spades:latest'
    }

    withName: CHECKM {
        container = 'nanozoo/checkm:latest'
    }

    withName: ANNOTATION {
        container = 'staphb/prokka:latest'
    }

    withName: DETECT_CHIMERS_CONTAMINATION {
        container = 'metashot/gunc:1.0.5-1'
    }

    withName: MERGE_QC {
        container = 'metashot/gunc:1.0.5-1'
    }

    withName: CLASSIFICATION {
        container = 'theoaphidian/gtdbtk-entry'
        containerOptions "-v ${params.gtdb_db}:/refdata"
    }

    withName: ANTISMASH {
        container = null
    }

}

params {
    outdir = './results'
    sampleDatabase = "${projectDir}/database"
    runName = "run01"
}
